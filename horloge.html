<!DOCTYPE html>
<html>
  <head>
    <title>Couteau-Suisse | Horloge</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <link rel="stylesheet" href="/styles.css">
  </head>
  <body onLoad="startClock()" onUnLoad="stopClock()">
    <div class="navbar">
      <div class="navbar-text">
          <a href="/">Couteau Suisse</a>
      </div>
    </div>
    <form class="horloge" name="Clock">
      <input type="text" name="Horloge" disabled="true">
    </form>
	<script>
		// Initialise les variables
    	var timerID = null; // Pour faire référence au timer (la boucle qui s'actualise toutes les secondes)
      	var timerActif = false;

		// Stoppe l'horloge (si le timer est actif) en utilisant clearTimeout()
      	function stopClock() {
        	if (timerActif) clearTimeout(timerID);
        	timerActif = false;
      	}

		// Stoppe l'horloge, puis lance la fonction showtime()
      	function startClock() {
        	stopClock();
        	showtime();
      	}

		// Fonction principale
      	function showtime() {
        	var now = new Date(); // Récupère les informations sur l'heure actuelle (et plus)
        	var hour = now.getHours(); // On prend les heures
        	var min = now.getMinutes(); // Les minutes
        	var sec = now.getSeconds(); // Et les secondes
        	heure = (hour > 9 ? hour :"0" + hour); // Si l'heure est inférieur à 9, alors on ajoute un 0 (ex : 05)
        	heure += ":" + (min > 9 ? min :"0" + min); // De même pour les minutes
        	heure += ":" + (sec > 9 ? sec :"0" + sec); // Et les secondes
        	document.Clock.Horloge.value = heure; // On change l'output contenant l'heure à la nouvelle valeur
        	timerID = setTimeout("showtime()",1000); // On actualise toutes les secondes
        	timerActif = true; // On déclare le timer comme actif
      	}
    </script>
  </body>
</html>
