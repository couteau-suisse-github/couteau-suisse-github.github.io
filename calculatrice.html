<!DOCTYPE html>
<html> 
   	<head>
      	<title>Couteau-Suisse | Calculatrice</title>
      	<meta charset="utf-8">
      	<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
      	<link rel="stylesheet" href="styles.css">
   	</head>
   	<body>
		<div class="navbar">
         	<div class="navbar-text">
             	<a href="/">Couteau Suisse</a>
         	</div>
      	</div>
      	<div class="calculatrice-container">
        	<table class="calculatrice"> 
            	<tr> 
               		<td colspan="3"><input id="output" autofocus/></td> 
               		<td id="c"><button onclick="effacer()">C</button></td> 
            	</tr> 
            	<tr> 
               		<td><button onclick="afficher('1')">1</button></td> 
               		<td><button onclick="afficher('2')">2</button></td> 
               		<td><button onclick="afficher('3')">3</button></td> 
               		<td><button onclick="afficher('+')">+</button></td> 
            	</tr> 
            	<tr> 
               		<td><button onclick="afficher('4')">4</button></td> 
               		<td><button onclick="afficher('5')">5</button></td> 
               		<td><button onclick="afficher('6')">6</button></td> 
               		<td><button onclick="afficher('-')">-</button></td> 
            	</tr> 
            	<tr> 
               		<td><button onclick="afficher('7')">7</button></td> 
               		<td><button onclick="afficher('8')">8</button></td> 
               		<td><button onclick="afficher('9')">9</button></td> 
               		<td><button onclick="afficher('*')">*</button></td> 
            	</tr> 
            	<tr>
               		<td><button onclick="afficher('.')">.</button></td> 
               		<td><button onclick="afficher('0')">0</button></td> 
               		<td><button id="calcbutton" onclick="calculer()">=</button></td> 
               		<td><button onclick="afficher('/')">/</button></td> 
            	</tr> 
         	</table>
      	</div>	
      	<script>
        	// Lorsque il y a un appui sur la touche entrée, clique sur le bouton "="
         	var ouput = document.getElementById("ouput"); // "Raccourci" de document.getElementById("output") vers "output"

         	output.addEventListener("keypress", function(event) { // fonction se répétant dans "output" et cherchant des évènements "keypress" : appui sur un clavier
         		if (event.key === "Enter") { // Si la touche appuyé est Entrée
            		document.getElementById("calcbutton").click(); // Simule un clic utilisateur sur le boutton "="
         		}
         	}); 

		 	// Appelé lors de l'appui sur la touche "="
        	// Évalue le chiffre et renvoie la sortie : eval() est une fonction magique : elle comprend toute seule à partir d'une chaîne de caractères quel(s) calcul(s) effectuer
         	function calculer() { 
            	let a = document.getElementById("output").value // Prend le contenu de l'output
            	let b = eval(a) // Détermine automatiquement le(s) calcul(s) à faire à partir de la chaîne de caractères (ex: b = eval("5+5/3") --> b = 5 + 5 / 3
            	document.getElementById("output").value = b // Modifie le contenu de l'output par le résultat du calcul (ou des calculs)
         	} 

			// Appelé lors de l'appui d'un bouton comme '1', '+' ou encore '7'
         	// Affiche la valeur (ajoute la valeur)
         	function afficher(val) { 
            	document.getElementById("output").value+=val // Rajoute la touche appuyé à l'output
         	}
 
		 	// Appelé lors de l'appui sur la touche "C"
         	// Efface l'output (remplace par une valeur vide) 
         	function effacer() { 
            	document.getElementById("output").value = "" // Remplace l'ouput par "", soit une chaîne de caractère vide
         	} 
      	</script>
   	</body> 
</html>
